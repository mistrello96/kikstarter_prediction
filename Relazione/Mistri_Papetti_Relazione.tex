\documentclass[11pt, a4paper]{report}

\usepackage{caption}
\usepackage{verbatim} 
\usepackage{hyperref}
\hypersetup{pdfborder = 0 0 0, 	colorlinks, urlcolor=black, linkcolor=black}
\usepackage[utf8]{inputenc} %utf8
\usepackage[italian]{babel}
\usepackage[T1]{fontenc}
\usepackage[colorinlistoftodos,prependcaption,textsize=tiny]{todonotes}
\usepackage{graphicx, subfig}
\usepackage[titletoc]{appendix}
\usepackage{listings}
\usepackage{color}
\definecolor{lightgray}{rgb}{.9,.9,.9}
\definecolor{darkgray}{rgb}{.4,.4,.4}
\definecolor{purple}{rgb}{0.65, 0.12, 0.82}

\lstdefinelanguage{JavaScript}{
	keywords={typeof, new, true, false, catch, function, return, null, catch, switch, var, if, in, while, do, else, case, break},
	keywordstyle=\color{blue}\bfseries,
	ndkeywords={class, export, boolean, throw, implements, import, this},
	ndkeywordstyle=\color{darkgray}\bfseries,
	identifierstyle=\color{black},
	sensitive=false,
	comment=[l]{//},
	morecomment=[s]{/*}{*/},
	commentstyle=\color{purple}\ttfamily,
	stringstyle=\color{red}\ttfamily,
	morestring=[b]',
	morestring=[b]"
}

\lstset{
	language=JavaScript,
	backgroundcolor=\color{lightgray},
	extendedchars=true,
	basicstyle=\footnotesize\ttfamily,
	showstringspaces=false,
	showspaces=false,
	numbers=left,
	numberstyle=\footnotesize,
	numbersep=9pt,
	tabsize=2,
	breaklines=true,
	showtabs=false,
	captionpos=b
}

\title{\emph{Kickstarter Predictions}}

\author{Matteo Mistri 808097, \href{m.mistri2@campus.unimib.it}{m.mistri2@campus.unimib.it}\\%
	Daniele Maria Papetti 808027, \href{d.papetti1@campus.unimib.it}{d.papetti1@campus.unimib.it}}

\pagenumbering{roman}

\begin{document}
	
\clearpage
\maketitle


\tableofcontents
\newpage

\hypersetup{pdfborder = 0 0 0, 	colorlinks, urlcolor=blue, linkcolor=black}
\pagenumbering{arabic}
\setcounter{page}{1}
\chapter{Introduzione}
\input{introduzione}
\chapter{Data Technology}
\input{data_technology}
\chapter{Machine Learning}
\input{machine_learning}

\begin{appendices}
	\chapter{Codice JavaScript per misura Completezza}
	\begin{lstlisting}
		var nulls;
		var seen;
		
		if (!seen) {
			seen = 1;
			nulls = [];
			for (var i = 0; i < getInputRowMeta().size() - 1; i++) {
				nulls[i] = 0;
			}
		}
		
		for (var i = 0; i < getInputRowMeta().size() - 1; i++) {
			if (row[i] == null) {
				nulls[i] += 1;
			}
		}
		
		// Don't store any values
		trans_Status = SKIP_TRANSFORMATION;
		
		// Only store the nulls at the last row
		if (last == true) {
			path = getEnvironmentVar("PATH_TO_REPO") + "kickstarter_completeness.txt";
			if(fileExists(path)){
				deleteFile(path)
			}
			touch(path);
			var fields = getInputRowMeta().getFieldNames();
			for(var i = 0; i < fields.length - 1; i++){
				appendToFile(path, fields[i] + ": " + nulls[i] + "\n");
			}
		}
	\end{lstlisting}
\end{appendices}
\end{document}